namespace SpriteKind {
    export const scerbored = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    ball.vx = 0 - ball.vx
})
let ball: Sprite = null
tiles.setTilemap(tilemap`level1`)
let left_paddle = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
left_paddle.setPosition(8, 55)
let right_paddle = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . 7 7 7 . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
right_paddle.setPosition(150, 53)
controller.moveSprite(left_paddle, 0, 100)
controller.moveSprite(right_paddle, 0, 100)
ball = sprites.create(img`
    7 7 7 7 
    7 7 7 7 
    7 7 7 7 
    7 7 7 7 
    `, SpriteKind.Projectile)
ball.setBounceOnWall(true)
ball.setStayInScreen(true)
ball.setVelocity(50, 50)
let scoreborde_1 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . 7 7 7 . . . . . . . 
    . . . . . 7 . . . 7 . . . . . . 
    . . . . 7 . . . . . 7 . . . . . 
    . . . . . . . . . . 7 . . . . . 
    . . . . . . . . . . 7 . . . . . 
    . . . . . . . . . 7 . . . . . . 
    . . . . . . . . 7 . . . . . . . 
    . . . . . . . . . 7 . . . . . . 
    . . . . . . . . . . 7 . . . . . 
    . . . . . . . . . . 7 . . . . . 
    . . . . 7 . . . . . 7 . . . . . 
    . . . . . 7 . . . 7 . . . . . . 
    . . . . . . 7 7 7 . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.scerbored)
scoreborde_1.setPosition(30, 8)
let scoreborde_2 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . 7 7 7 . . . . . . . 
    . . . . . 7 . . . 7 . . . . . . 
    . . . . 7 . . . . . 7 . . . . . 
    . . . . . . . . . . 7 . . . . . 
    . . . . . . . . . . 7 . . . . . 
    . . . . . . . . . 7 . . . . . . 
    . . . . . . . . 7 . . . . . . . 
    . . . . . . . . . 7 . . . . . . 
    . . . . . . . . . . 7 . . . . . 
    . . . . . . . . . . 7 . . . . . 
    . . . . 7 . . . . . 7 . . . . . 
    . . . . . 7 . . . 7 . . . . . . 
    . . . . . . 7 7 7 . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.scerbored)
scoreborde_2.setPosition(110, 11)
let score_2 = 3
let score_1 = 3
forever(function () {
    if (score_1 == 1) {
        scoreborde_1.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . 7 7 7 . . . . . . . 
            . . . . . . 7 . . 7 . . . . . . 
            . . . . . . 7 . . . 7 . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . 7 7 7 7 7 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    }
    if (score_1 == 2) {
        scoreborde_1.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . 7 7 7 7 7 . . . . . . 
            . . . . 7 . . . . 7 . . . . . . 
            . . . . . . . . 7 . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . 7 . . . . . . . . . . 
            . . . . 7 7 7 7 7 7 . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    }
})
forever(function () {
    if (score_2 == 1) {
        scoreborde_2.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . 7 7 7 . . . . . . . 
            . . . . . . 7 . . 7 . . . . . . 
            . . . . . . 7 . . . 7 . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . 7 7 7 7 7 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    }
    if (score_2 == 2) {
        scoreborde_2.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . 7 7 7 7 7 . . . . . . 
            . . . . 7 . . . . 7 . . . . . . 
            . . . . . . . . 7 . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . 7 . . . . . . . . . 
            . . . . . 7 . . . . . . . . . . 
            . . . . 7 7 7 7 7 7 . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    }
})
forever(function () {
    if (ball.x == 2) {
        score_1 += -1
        pause(2000)
    }
})
forever(function () {
    if (ball.x == 158) {
        score_2 += -1
        pause(2000)
    }
})
forever(function () {
    console.log(ball.x)
})
forever(function () {
    if (score_1 == 0 || score_2 == 0) {
        game.over(true, effects.confetti)
    }
})
